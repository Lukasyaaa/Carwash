(()=>{"use strict";!function(){let e=new Image;e.onload=e.onerror=function(){1==(2==e.height)?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e=e=>e.target.closest(".header__burger"),t=e=>{document.body.classList.toggle("_locked"),e.classList.toggle("_active")},o=e=>{document.body.classList.remove("_locked"),e.classList.remove("_active")},s=e=>e.target.closest(".spoiler__opener")||e.target.closest(".select__opener"),c=e=>{let t,o;e.target.closest(".spoiler")?(t=e.target.closest(".spoiler"),o=e.target.closest(".spoiler__opener")):(t=e.target.closest(".select"),o=e.target.closest(".select__opener")),t.classList.toggle("_active");const s=o.nextElementSibling;t.classList.contains("_active")?s.style.height=s.childNodes[1].offsetHeight+"px":s.style.height=""},r=e=>e.target.closest(".item-price__button"),i=(e,t,o,s,c,r,i)=>{let n=0,l="",a="";for(const t of o)if(e.target.closest(".item-price__button").contains(t)){n=parseInt(t.innerText);break}for(const o of t)if(e.target.closest(".item-price").contains(o)){l=o.innerText;break}const d=[{checked:"minivan",visible:"Мікроавтобус"},{checked:"jeep",visible:"Джип"},{checked:"crossover",visible:"Кросовер"},{checked:"passenger",visible:"Легковий"}];if(e.target.closest(".item-price__button").classList.contains("item_common-price__button"))a="Будь-який";else e:for(const t of d)for(const o of e.target.closest(".item-price__link").className.split(" "))if(o===t.checked){a=t.visible;break e}s.innerText=parseInt(s.innerText)+n,i.insertAdjacentHTML("beforeend",`<li class="spoiler-price__link spoiler_choosed-price__link spoiler__link">\n            <span>${a} ${l} ${n}грн.</span>\n            <button></button>\n        </li>`),c.classList.contains("_active")?r.style.height=i.offsetHeight+"px":c.classList.contains("_disabled")&&c.classList.remove("_disabled")},n=e=>e.target.closest(".spoiler_choosed-price__link"),l=(e,t,o,s,c)=>{1===document.querySelectorAll(".spoiler_choosed-price__link").length?(s.style.height="0px",t.innerText=parseInt(t.innerText)-e.target.closest(".spoiler_choosed-price__link").innerText.match(/\d+/)[0],setTimeout((()=>{c.removeChild(e.target.closest(".spoiler_choosed-price__link")),o.classList.add("_disabled"),o.classList.remove("_active")}),300)):(s.style.height=c.offsetHeight-e.target.closest(".spoiler_choosed-price__link").offsetHeight+"px",t.innerText=parseInt(t.innerText)-e.target.closest(".spoiler_choosed-price__link").innerText.match(/\d+/)[0],setTimeout((()=>{c.removeChild(e.target.closest(".spoiler_choosed-price__link"))}),300))},a=e=>e.target.closest(".opener_auto"),d=(e,t,o,s,c)=>{document.body.classList.add("_locked"),document.body.classList.add("_appear-modal"),p(e,t,o,s,c)},_=e=>e.target.closest(".order__close"),u=(e,t,o,s,c)=>{c.classList.contains("_active")||document.body.classList.remove("_locked"),document.body.classList.remove("_appear-modal"),m(e,t,o,s)},m=(e,t,o,s,c)=>{t.tabIndex=-1,o.tabIndex=-1,s.tabIndex=-1,c.forEach((t=>{e.contains(t)||(t.tabIndex=0)}))},p=(e,t,o,s,c)=>{t.tabIndex=0,o.tabIndex=0,s.tabIndex=0,c.forEach((t=>{e.contains(t)||(t.tabIndex=-1)}))};window.addEventListener("DOMContentLoaded",(()=>{const p=document.querySelector(".price__spoilers"),h=document.querySelectorAll(".price__spoiler_explanation");p&&2===h.length&&p.classList.add("_two-child");const g=document.querySelector(".header"),b=document.querySelectorAll("a, input, button, textarea"),y=document.querySelector(".order"),f=document.querySelector(".order__close"),L=document.querySelector(".order__textarea"),v=document.querySelector(".order__send"),k=document.querySelectorAll(".item-price__title"),x=document.querySelectorAll(".item-price__button span"),A=document.querySelector(".price__calculator output"),S=document.querySelector(".spoiler_choosed-price"),q=document.querySelector(".spoiler_choosed-price__info"),w=document.querySelector(".spoiler_choosed-price__list");if(g){if(document.querySelectorAll(".menu__link a").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(e.currentTarget.getAttribute("href")).getBoundingClientRect().top+window.scrollY-g.offsetHeight;window.matchMedia("(max-width: 992px)").matches&&o(g),window.scrollTo({top:t,behavior:"smooth"})}))})),window.matchMedia("(max-width: 992px)").matches){const e=document.querySelectorAll(".menu__link a");e&&(e[0].addEventListener("focus",(()=>{(e=>{document.body.classList.add("_locked"),e.classList.add("_active")})(g)})),e[e.length-1].addEventListener("blur",(()=>{o(g)})))}window.addEventListener("scroll",(()=>{document.body.classList.contains("_locked")||(window.scrollY?g.classList.add("_scroll"):g.classList.remove("_scroll"))})),y&&f&&L&&v?k&&x&&A&&S&&q&&w?(m(y,f,L,v,b),document.body.addEventListener("click",(o=>{a(o)?d(y,f,L,v,b):_(o)?u(f,L,v,b,g):e(o)?t(g):s(o)?c(o):r(o)?i(o,k,x,A,S,q,w):n(o)&&l(o,A,S,q,w)}))):(m(y,f,L,v,b),document.body.addEventListener("click",(o=>{a(o)?d(y,f,L,v,b):_(o)?u(f,L,v,b,g):e(o)?t(g):s(o)&&c(o)}))):k&&x&&A&&S&&q&&w?document.body.addEventListener("click",(o=>{e(o)?t(g):s(o)?c(o):r(o)?i(o,k,x,A,S,q,w):n(o)&&l(o,A,S,q,w)})):document.body.addEventListener("click",(o=>{e(o)?t(g):s(o)&&c(o)}))}else y&&f&&L&&v?k&&x&&A&&S&&q&&w?(m(y,f,L,v,b),document.body.addEventListener("click",(e=>{s(e)?c(e):a(e)?d(y,f,L,v,b):_(e)?u(f,L,v,b,g):r(e)?i(e,k,x,A,S,q,w):n(e)&&l(e,A,S,q,w)}))):(m(y,f,L,v,b),document.body.addEventListener("click",(e=>{s(e)?c(e):a(e)?d(y,f,L,v,b):_(e)&&u(f,L,v,b,g)}))):k&&x&&A&&S&&q&&w?document.body.addEventListener("click",(e=>{s(e)?c(e):r(e)?i(e,k,x,A,S,q,w):n(e)&&l(e,A,S,q,w)})):document.body.addEventListener("click",(e=>{s(e)&&c(e)}));const E=document.querySelectorAll(".spoiler_explanation-price"),I=document.querySelectorAll(".spoiler_explanation-price__opener");E&&I&&I.forEach(((e,t)=>{e.addEventListener("focus",(()=>{E[t].classList.add("_focus")})),e.addEventListener("blur",(()=>{E[t].classList.remove("_focus")}))}));const T=document.querySelector(".part_after-item-comparasion img"),C=document.querySelectorAll(".part-item-comparasion__line"),H=document.querySelectorAll(".comparasion__item");if(0!==C.length&&C.length===H.length&&T){const e=getComputedStyle(C[0]).transform.match(/matrix\((.*)\)/)[1].split(", ").map(parseFloat),t=Math.atan2(e[1],e[0])*(180/Math.PI),o=parseFloat(getComputedStyle(T).width);C.forEach((e=>{e.style.transform=`rotate(${o/T.offsetWidth*t}deg) translateX(-100%)`}))}}))})();
(()=>{"use strict";!function(){let e=new Image;e.onload=e.onerror=function(){1==(2==e.height)?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e=e=>e.target.closest(".header__burger"),t=e=>{document.body.classList.toggle("_locked"),e.classList.toggle("_active")},o=e=>{document.body.classList.remove("_locked"),e.classList.remove("_active")},s=e=>e.target.closest(".spoiler__opener")||e.target.closest(".select__opener"),c=e=>{let t,o;e.target.closest(".spoiler")?(t=e.target.closest(".spoiler"),o=e.target.closest(".spoiler__opener")):(t=e.target.closest(".select"),o=e.target.closest(".select__opener")),t.classList.toggle("_active");const s=o.nextElementSibling;t.classList.contains("_active")?s.style.height=s.childNodes[1].offsetHeight+"px":s.style.height=""},r=e=>e.target.closest(".item-price__button");let n,i;const l=(e,t,o,s,c,r,l,d)=>{let a=0,_="",u="";for(const t of o)if(e.target.closest(".item-price__button").contains(t)){a=parseInt(t.innerText);break}for(const o of t)if(e.target.closest(".item-price").contains(o)){_=o.innerText;break}const p=[{checked:"minivan",visible:"Мікроавтобус"},{checked:"jeep",visible:"Джип"},{checked:"crossover",visible:"Кросовер"},{checked:"passenger",visible:"Легковий"}];if(e.target.closest(".item-price__button").classList.contains("item_common-price__button"))u="Будь-який";else e:for(const t of p)for(const o of e.target.closest(".item-price__link").className.split(" "))if(o===t.checked){u=t.visible;break e}let m=document.querySelectorAll(".spoiler_choosed-price__link button");s.innerText=parseInt(s.innerText)+a,l.insertAdjacentHTML("beforeend",`<li class="spoiler-price__link spoiler_choosed-price__link spoiler__link" data-id="${m.length}">\n            <span>${u} ${_} ${a}грн.</span>\n            <button></button>\n        </li>`),m=document.querySelectorAll(".spoiler_choosed-price__link button"),n&&i||(n=()=>{return e=r,t=l,c.classList.add("_active"),void(e.style.height=t.offsetHeight+"px");var e,t},i=()=>{return e=r,c.classList.remove("_active"),void(e.style.height="0px");var e}),1===m.length?(m[0].addEventListener("focus",n),m[0].addEventListener("blur",i)):(m[m.length-2].removeEventListener("blur",i),m[m.length-1].addEventListener("blur",i)),c.classList.contains("_active")?r.style.height=l.offsetHeight+"px":c.classList.contains("_disabled")&&(c.classList.remove("_disabled"),d.tabIndex=0)},d=e=>e.target.closest(".spoiler_choosed-price__link"),a=(e,t,o,s,c,r)=>{const l=document.querySelectorAll(".spoiler_choosed-price__link"),d=document.querySelectorAll(".spoiler_choosed-price__link button");if(0!==l.length&&l.length===d.length)if(1===l.length)s.style.height="0px",t.innerText=parseInt(t.innerText)-e.target.closest(".spoiler_choosed-price__link").innerText.match(/\d+/)[0],e.target.closest(".spoiler_choosed-price__link").removeEventListener("focus",n),e.target.closest(".spoiler_choosed-price__link").removeEventListener("blur",i),setTimeout((()=>{c.removeChild(e.target.closest(".spoiler_choosed-price__link")),o.classList.add("_disabled"),r.tabIndex=-1,o.classList.remove("_active")}),300);else{const o=parseFloat(getComputedStyle(l[0]).marginBottom);s.style.height=c.offsetHeight-e.target.closest(".spoiler_choosed-price__link").offsetHeight-o+"px",t.innerText=parseInt(t.innerText)-e.target.closest(".spoiler_choosed-price__link").innerText.match(/\d+/)[0];const r=parseInt(e.target.closest(".spoiler_choosed-price__link").dataset.id);0===r?(d[0].removeEventListener("focus",n),d[1].addEventListener("focus",n)):r===d.length-1&&(d[d.length-1].removeEventListener("blur",i),d[d.length-2].addEventListener("blur",i)),setTimeout((()=>{c.removeChild(e.target.closest(".spoiler_choosed-price__link"))}),300)}},_=e=>e.target.closest(".opener_auto"),u=(e,t,o,s,c)=>{document.body.classList.add("_locked"),document.body.classList.add("_appear-modal"),g(e,t,o,s,c)},p=e=>e.target.closest(".order__close"),m=(e,t,o,s,c,r)=>{r.classList.contains("_active")||document.body.classList.remove("_locked"),document.body.classList.remove("_appear-modal"),h(e,t,o,s,c)},h=(e,t,o,s,c)=>{t.tabIndex=-1,o.tabIndex=-1,s.tabIndex=-1,c.forEach((t=>{e.contains(t)||(t.tabIndex=0)}))},g=(e,t,o,s,c)=>{t.tabIndex=0,o.tabIndex=0,s.tabIndex=0,c.forEach((t=>{e.contains(t)||(t.tabIndex=-1)}))};window.addEventListener("DOMContentLoaded",(()=>{const n=document.querySelector(".price__spoilers"),i=document.querySelectorAll(".price__spoiler_explanation");n&&2===i.length&&n.classList.add("_two-child");const g=document.querySelector(".header"),b=document.querySelectorAll("a, input, button, textarea"),v=document.querySelector(".order"),y=document.querySelector(".order__close"),L=document.querySelector(".order__textarea"),f=document.querySelector(".order__send"),k=document.querySelectorAll(".item-price__title"),x=document.querySelectorAll(".item-price__button span"),A=document.querySelector(".price__calculator output"),S=document.querySelector(".spoiler_choosed-price"),E=document.querySelector(".spoiler_choosed-price__opener"),q=document.querySelector(".spoiler_choosed-price__info"),I=document.querySelector(".spoiler_choosed-price__list");if(g){if(document.querySelectorAll(".menu__link a").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(e.currentTarget.getAttribute("href")).getBoundingClientRect().top+window.scrollY-g.offsetHeight;window.matchMedia("(max-width: 992px)").matches&&o(g),window.scrollTo({top:t,behavior:"smooth"})}))})),window.matchMedia("(max-width: 992px)").matches){const e=document.querySelectorAll(".menu__link a");e&&(e[0].addEventListener("focus",(()=>{(e=>{document.body.classList.add("_locked"),e.classList.add("_active")})(g)})),e[e.length-1].addEventListener("blur",(()=>{o(g)})))}window.addEventListener("scroll",(()=>{document.body.classList.contains("_locked")||(window.scrollY?g.classList.add("_scroll"):g.classList.remove("_scroll"))})),v&&y&&L&&f?k&&x&&A&&S&&q&&I?(h(v,y,L,f,b),E.tabIndex=-1,document.body.addEventListener("click",(o=>{_(o)?u(v,y,L,f,b):p(o)?m(v,y,L,f,b,g):e(o)?t(g):s(o)?c(o):r(o)?l(o,k,x,A,S,q,I,E):d(o)&&a(o,A,S,q,I,E)}))):(h(v,y,L,f,b),document.body.addEventListener("click",(o=>{_(o)?u(v,y,L,f,b):p(o)?m(v,y,L,f,b,g):e(o)?t(g):s(o)&&c(o)}))):k&&x&&A&&S&&q&&I?(E.tabIndex=-1,document.body.addEventListener("click",(o=>{e(o)?t(g):s(o)?c(o):r(o)&&(l(o,k,x,A,S,q,I,E),a(o,A,S,q,I,E))}))):document.body.addEventListener("click",(o=>{e(o)?t(g):s(o)&&c(o)}))}else v&&y&&L&&f?k&&x&&A&&S&&q&&I?(h(v,y,L,f,b),E.tabIndex=-1,document.body.addEventListener("click",(e=>{s(e)?c(e):_(e)?u(v,y,L,f,b):p(e)?m(v,y,L,f,b,g):r(e)?l(e,k,x,A,S,q,I,E):d(e)&&a(e,A,S,q,I,E)}))):(h(v,y,L,f,b),document.body.addEventListener("click",(e=>{s(e)?c(e):_(e)?u(v,y,L,f,b):p(e)&&m(v,y,L,f,b,g)}))):k&&x&&A&&S&&q&&I?(E.tabIndex=-1,document.body.addEventListener("click",(e=>{s(e)?c(e):r(e)?l(e,k,x,A,S,q,I,E):d(e)&&a(e,A,S,q,I,E)}))):document.body.addEventListener("click",(e=>{s(e)&&c(e)}));const w=document.querySelectorAll(".select_explanation-price"),T=document.querySelectorAll(".select_explanation-price__opener");w&&T&&T.forEach(((e,t)=>{e.addEventListener("focus",(()=>{w[t].classList.add("_focus")})),e.addEventListener("blur",(()=>{w[t].classList.remove("_focus")}))}));const C=document.querySelector(".part_after-item-comparasion img"),H=document.querySelectorAll(".part-item-comparasion__line"),M=document.querySelectorAll(".comparasion__item");if(0!==H.length&&H.length===M.length&&C){const e=getComputedStyle(H[0]).transform.match(/matrix\((.*)\)/)[1].split(", ").map(parseFloat),t=Math.atan2(e[1],e[0])*(180/Math.PI),o=parseFloat(getComputedStyle(C).width);H.forEach((e=>{e.style.transform=`rotate(${o/C.offsetWidth*t}deg) translateX(-100%)`}))}}))})();